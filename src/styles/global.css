@import "tailwindcss";
@plugin "flowbite/plugin";
/*@plugin "@tailwindcss/typography";*/

@theme {
  --font-sans: 'ヒラギノ角ゴ Pro W3', 'Hiragino Kaku Gothic Pro', 'メイリオ', 'Meiryo', '游ゴシック', 'Yu Gothic', 'ＭＳ Ｐゴシック', 'MS PGothic', 'sans-serif';

  /* プライマリーカラー（森林テーマ） */
  --color-primary-50: #f0fdf4;
  --color-primary-100: #dcfce7;
  --color-primary-200: #bbf7d0;
  --color-primary-300: #86efac;
  --color-primary-400: #4ade80;
  --color-primary-500: #22c55e;
  --color-primary-600: #16a34a;
  --color-primary-700: #15803d;
  --color-primary-800: #166534;
  --color-primary-900: #14532d;
  --color-primary-950: #052e16;

  /* セカンダリーカラー（アクセント） */
  --color-secondary-50: #fefce8;
  --color-secondary-100: #fef9c3;
  --color-secondary-200: #fef08a;
  --color-secondary-300: #fde047;
  --color-secondary-400: #facc15;
  --color-secondary-500: #eab308;
  --color-secondary-600: #ca8a04;
  --color-secondary-700: #a16207;
  --color-secondary-800: #854d0e;
  --color-secondary-900: #713f12;
  --color-secondary-950: #422006;

  /* ニュートラルカラー */
  --color-neutral-50: #fafafa;
  --color-neutral-100: #f5f5f5;
  --color-neutral-200: #e5e5e5;
  --color-neutral-300: #d4d4d4;
  --color-neutral-400: #a3a3a3;
  --color-neutral-500: #737373;
  --color-neutral-600: #525252;
  --color-neutral-700: #404040;
  --color-neutral-800: #262626;
  --color-neutral-900: #171717;
  --color-neutral-950: #0a0a0a;

  /* セマンティックカラー */
  --color-success: var(--color-primary-600);
  --color-warning: var(--color-secondary-500);
  --color-error: #ef4444;
  --color-info: #3b82f6;

  /* エラーカラー（赤系） */
  --color-error-50: #fef2f2;
  --color-error-100: #fee2e2;
  --color-error-200: #fecaca;
  --color-error-300: #fca5a5;
  --color-error-400: #f87171;
  --color-error-500: #ef4444;
  --color-error-600: #dc2626;
  --color-error-700: #b91c1c;
  --color-error-800: #991b1b;
  --color-error-900: #7f1d1d;
  --color-error-950: #450a0a;

  /* 警告カラー（オレンジ系） */
  --color-warning-50: #fffbeb;
  --color-warning-100: #fef3c7;
  --color-warning-200: #fde68a;
  --color-warning-300: #fcd34d;
  --color-warning-400: #fbbf24;
  --color-warning-500: #f59e0b;
  --color-warning-600: #d97706;
  --color-warning-700: #b45309;
  --color-warning-800: #92400e;
  --color-warning-900: #78350f;
  --color-warning-950: #451a03;

  /* 情報カラー（青系） */
  --color-info-50: #eff6ff;
  --color-info-100: #dbeafe;
  --color-info-200: #bfdbfe;
  --color-info-300: #93c5fd;
  --color-info-400: #60a5fa;
  --color-info-500: #3b82f6;
  --color-info-600: #2563eb;
  --color-info-700: #1d4ed8;
  --color-info-800: #1e40af;
  --color-info-900: #1e3a8a;
  --color-info-950: #172554;

  /* 成功カラー（緑系） */
  --color-success-50: #f0fdf4;
  --color-success-100: #dcfce7;
  --color-success-200: #bbf7d0;
  --color-success-300: #86efac;
  --color-success-400: #4ade80;
  --color-success-500: #22c55e;
  --color-success-600: #16a34a;
  --color-success-700: #15803d;
  --color-success-800: #166534;
  --color-success-900: #14532d;
  --color-success-950: #052e16;
}

/* Leafletマップラベルのスタイル */
.map-label {
  background: rgba(255, 255, 255, 0.9) !important;
  border: 1px solid #ccc !important;
  border-radius: 4px !important;
  padding: 2px 6px !important;
  font-size: 12px !important;
  font-weight: bold !important;
  color: #333 !important;
  white-space: nowrap !important;
  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.2) !important;
}

/* 見出しスタイル - シンプルで見やすい */
.prose h1 {
  font-size: 1.875rem; /* 30px */
  font-weight: 700;
  color: #111827;
  margin-top: 2rem;
  margin-bottom: 1.5rem;
  line-height: 1.2;
}

.prose h2 {
  font-size: 1.625rem; /* 26px */
  font-weight: 600;
  color: #1f2937;
  margin-top: 2rem;
  margin-bottom: 1rem;
  line-height: 1.3;
}

.prose h3 {
  font-size: 1.5rem; /* 24px */
  font-weight: 600;
  color: #374151;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
  line-height: 1.4;
}

.prose h4 {
  font-size: 1.25rem; /* 20px */
  font-weight: 600;
  color: #4b5563;
  margin-top: 1.25rem;
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.prose h5 {
  font-size: 1.125rem; /* 18px */
  font-weight: 600;
  color: #6b7280;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

.prose h6 {
  font-size: 1rem; /* 16px */
  font-weight: 600;
  color: #9ca3af;
  margin-top: 1rem;
  margin-bottom: 0.5rem;
  line-height: 1.4;
}

/* 段落スタイル */
.prose p {
  margin-bottom: 1.5rem;
  line-height: 1.625;
  font-size: 1rem;
}

/* 見出しの後の段落の余白調整 */
.prose h1 + p,
.prose h2 + p,
.prose h3 + p,
.prose h4 + p,
.prose h5 + p,
.prose h6 + p {
  margin-top: 1rem;
  margin-bottom: 1.5rem;
}

/* カスタムリストスタイル */
.prose ul {
  list-style: none;
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
  margin-top: 1rem;
}

.prose ul li {
  position: relative;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  line-height: 1.625;
  font-size: 1rem; /* 16px */
}

.prose ul li::before {
  content: "•";
  position: absolute;
  left: 0;
  top: 0;
  color: #16a34a;
  font-weight: 700;
  font-size: 1rem; /* 16px */
  line-height: 1.625;
}

.prose ol {
  list-style: none;
  padding-left: 1.5rem;
  margin-bottom: 1.5rem;
  margin-top: 1rem;
  counter-reset: list-counter;
}

.prose ol li {
  position: relative;
  margin-bottom: 0.75rem;
  padding-left: 1.5rem;
  line-height: 1.625;
  font-size: 1rem; /* 16px */
  counter-increment: list-counter;
}

.prose ol li::before {
  content: counter(list-counter) ".";
  position: absolute;
  left: 0;
  top: 0;
  color: #16a34a;
  font-weight: 700;
  font-size: 1rem; /* 16px */
  line-height: 1.625;
}

/* ネストしたリスト */
.prose ul ul,
.prose ol ol,
.prose ul ol,
.prose ol ul {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  padding-left: 1rem;
}

.prose ul ul li {
  font-size: 1rem; /* 16px */
}

.prose ul ul li::before {
  content: "◦";
  color: #6b7280;
  font-size: 1rem; /* 16px */
  top: 0;
  line-height: 1.625;
}

.prose ol ol {
  counter-reset: sub-counter;
}

.prose ol ol li {
  counter-increment: sub-counter;
  font-size: 1rem; /* 16px */
}

.prose ol ol li::before {
  content: counter(sub-counter, lower-alpha) ".";
  color: #6b7280;
  font-size: 1rem; /* 16px */
  top: 0;
  line-height: 1.625;
}

/* コードブロックスタイル - モダンで美しいデザイン */
.prose pre {
  background: linear-gradient(135deg, #1e293b 0%, #334155 100%);
  border-radius: 12px;
  padding: 1.5rem;
  margin: 2rem 0;
  overflow-x: auto;
  position: relative;
  border: 1px solid rgba(255, 255, 255, 0.1);
  box-shadow: 
    0 4px 6px -1px rgba(0, 0, 0, 0.1),
    0 2px 4px -1px rgba(0, 0, 0, 0.06),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.prose pre code {
  background: transparent;
  color: #e2e8f0;
  font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
  font-size: 0.875rem;
  line-height: 1.6;
  padding: 0;
  border-radius: 0;
  font-weight: 400;
}

/* インラインコードスタイル */
.prose code:not(pre code) {
  background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
  color: #1e293b;
  padding: 0.25rem 0.5rem;
  border-radius: 6px;
  font-family: 'JetBrains Mono', 'Fira Code', 'Consolas', 'Monaco', 'Courier New', monospace;
  font-size: 0.875rem;
  font-weight: 500;
  border: 1px solid #cbd5e1;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
}

/* コードブロック内のシンタックスハイライト */
.prose pre .token.comment,
.prose pre .token.prolog,
.prose pre .token.doctype,
.prose pre .token.cdata {
  color: #64748b;
  font-style: italic;
}

.prose pre .token.punctuation {
  color: #94a3b8;
}

.prose pre .token.namespace {
  opacity: 0.7;
}

.prose pre .token.property,
.prose pre .token.tag,
.prose pre .token.boolean,
.prose pre .token.number,
.prose pre .token.constant,
.prose pre .token.symbol,
.prose pre .token.deleted {
  color: #fbbf24;
}

.prose pre .token.selector,
.prose pre .token.attr-name,
.prose pre .token.string,
.prose pre .token.char,
.prose pre .token.builtin,
.prose pre .token.inserted {
  color: #34d399;
}

.prose pre .token.operator,
.prose pre .token.entity,
.prose pre .token.url,
.prose pre .language-css .token.string,
.prose pre .style .token.string {
  color: #60a5fa;
}

.prose pre .token.atrule,
.prose pre .token.attr-value,
.prose pre .token.keyword {
  color: #a78bfa;
}

.prose pre .token.function,
.prose pre .token.class-name {
  color: #f472b6;
}

.prose pre .token.regex,
.prose pre .token.important,
.prose pre .token.variable {
  color: #fbbf24;
}

.prose pre .token.important,
.prose pre .token.bold {
  font-weight: bold;
}

.prose pre .token.italic {
  font-style: italic;
}

.prose pre .token.entity {
  cursor: help;
}

/* コードブロックのスクロールバー */
.prose pre::-webkit-scrollbar {
  height: 8px;
}

.prose pre::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.1);
  border-radius: 4px;
}

.prose pre::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.3);
  border-radius: 4px;
}

.prose pre::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.5);
}

/* コードブロックの言語表示 */
.prose pre[data-language]::after {
  content: attr(data-language);
  position: absolute;
  top: 0.75rem;
  right: 1rem;
  font-size: 0.75rem;
  font-weight: 600;
  color: #94a3b8;
  text-transform: uppercase;
  letter-spacing: 0.05em;
  background: rgba(255, 255, 255, 0.1);
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  backdrop-filter: blur(4px);
}

/* MDX内の画像の上下マージンを削除（左右中央配置は維持） */
/*.prose img {
  margin-top: 0 !important;
  margin-bottom: 0 !important;
}*/

/* MDXImageコンポーネント用のスタイル */
.prose .mdx-image-container {
  margin: 1.5rem 0;
}

.prose .mdx-image-container.mdx-image-float-left {
  float: left;
  margin-right: 1rem;
  margin-bottom: 1rem;
  margin-top: 0;
}

.prose .mdx-image-container.mdx-image-float-right {
  float: right;
  margin-left: 1rem;
  margin-bottom: 1rem;
  margin-top: 0;
}

/* 見出し要素でfloatを自動クリア */
.prose h1, 
.prose h2, 
.prose h3, 
.prose h4, 
.prose h5, 
.prose h6 {
  clear: both;
}

/* その他の主要なブロック要素でもfloatをクリア */
.prose blockquote,
.prose ul,
.prose ol,
.prose pre,
.prose table {
  clear: both;
}

/* クリアフィックス用のユーティリティ */
.prose .mdx-clear-float::after {
  content: "";
  display: table;
  clear: both;
}

/* レスポンシブ対応：小画面ではfloatを無効化 */
@media (max-width: 768px) {
  .prose .mdx-image-container.mdx-image-float-left,
  .prose .mdx-image-container.mdx-image-float-right {
    float: none;
    margin: 1.5rem auto;
    text-align: center;
  }
}

/* ダークモード対応 */
@media (prefers-color-scheme: dark) {
  .prose code:not(pre code) {
    background: linear-gradient(135deg, #374151 0%, #4b5563 100%);
    color: #f3f4f6;
    border-color: #6b7280;
  }
}

/* ===================================== */
/* Markdown由来の通常画像 (MDXImage除外) */
/* ドロップ時に生成される ![alt](src) の <img> を中サイズで中央表示 */
/* ===================================== */
/* 基本: 段落直下で単独の画像 (よくあるMarkdownパターン) */
.prose p > img:only-child:not([class*="mdx-image"]){
  display:block;
  margin:1.25rem auto; /* 中央 */
  width:100%;
  max-width:640px; /* 中程度の最大幅 */
  height:auto;
  border-radius:0.5rem;
}

/* 直接 .prose 配下に来た (パーサによっては p を省く場合) */
.prose > img:not([class*="mdx-image"]) {
  display:block;
  margin:1.25rem auto;
  width:100%;
  max-width:640px;
  height:auto;
  border-radius:0.5rem;
}

/* 複数画像が連続する場合、間隔を少し詰める */
.prose p > img:only-child + p > img:only-child,
.prose > img + img { margin-top:0.75rem; }

/* 小画面では左右余白を活かしつつ100%表示 (max-widthは自然に働く) */
@media (max-width: 680px){
  .prose p > img:only-child:not([class*="mdx-image"]),
  .prose > img:not([class*="mdx-image"]) { max-width:100%; }
}

/* ============================= */
/* MDX Tables (GFM)              */
/* ============================= */
.mdx-table-wrapper {
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  margin: 1.5rem 0; /* mt-6 mb-6 */
}

.mdx-table-wrapper::-webkit-scrollbar { height: 8px; }
.mdx-table-wrapper::-webkit-scrollbar-track { background: #f3f4f6; }
.mdx-table-wrapper::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
.dark .mdx-table-wrapper::-webkit-scrollbar-track { background: #1f2937; }
.dark .mdx-table-wrapper::-webkit-scrollbar-thumb { background: #475569; }

.mdx-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  font-size: 0.95rem;
  line-height: 1.5;
  background: #ffffff;
  border: 1px solid #e5e7eb; /* gray-200 */
  border-radius: 0.5rem; /* rounded-lg */
  overflow: hidden;
}
.dark .mdx-table { background: #1e293b; border-color: #334155; }

.mdx-table thead { background: #f1f5f9; color: #0f172a; }
.dark .mdx-table thead { background: #334155; color: #f1f5f9; }

.mdx-table th, .mdx-table td {
  padding: 0.625rem 0.875rem; /* py-2.5 px-3.5 */
  text-align: left;
  vertical-align: top;
  border-bottom: 1px solid #e5e7eb;
}
.dark .mdx-table th, .dark .mdx-table td { border-color: #334155; }

.mdx-table th {
  font-weight: 600;
  font-size: 0.75rem; /* text-xs */
  letter-spacing: 0.05em; /* tracking-wide */
  text-transform: uppercase;
}

.mdx-table tbody tr:last-child td { border-bottom: none; }

/* zebra stripe */
.mdx-table tbody tr:nth-child(odd) { background: #ffffff; }
.mdx-table tbody tr:nth-child(even) { background: #f8fafc; }
.dark .mdx-table tbody tr:nth-child(odd) { background: #1e293b; }
.dark .mdx-table tbody tr:nth-child(even) { background: #243044; }

/* hover */
.mdx-table tbody tr:hover { background: #eef2ff; }
.dark .mdx-table tbody tr:hover { background: #373e4e; }

/* caption */
.mdx-table caption {
  caption-side: bottom;
  padding: 0.75rem 0.25rem;
  font-size: 0.85rem;
  color: #64748b;
}
.dark .mdx-table caption { color: #94a3b8; }

/* code cell inside table */
.mdx-table td code, .mdx-table th code {
  background: #f1f5f9;
  padding: 0.15rem 0.35rem;
  border-radius: 0.25rem;
  font-size: 0.75rem;
}
.dark .mdx-table td code, .dark .mdx-table th code { background: #334155; }

@media (max-width: 640px) {
  .mdx-table th, .mdx-table td { padding: 0.5rem 0.625rem; }
  .mdx-table-wrapper { margin: 1rem 0; }
}
