---
import config from '@/config/config.json'
import footerMenu from '@/config/footer-menu.json'

const currentYear = new Date().getFullYear()
const { contactInfo, social, copyright } = config.footer
const copyrightYear =
  copyright.startYear === currentYear ? `${currentYear}` : `${copyright.startYear}-${currentYear}`
---

<footer class="bg-gray-800 text-white">
  <div class="container mx-auto px-4 py-8">
    <div class="grid grid-cols-1 gap-8 md:grid-cols-3">
      <div>
        <h3 class="mb-4 text-xl font-bold">お問い合わせ</h3>
        <p>〒{contactInfo.postalCode}</p>
        {
          Array.isArray(contactInfo.address) ? (
            contactInfo.address.map((line) => <p>{line}</p>)
          ) : (
            <p>{contactInfo.address}</p>
          )
        }
        <p>TEL(FAX): {contactInfo.tel}</p>
        <p>Email: {contactInfo.email}</p>
        <p class="mt-4">
          <a href={contactInfo.formLink.href} class="text-white hover:text-gray-300">
            {contactInfo.formLink.label}
          </a>
        </p>
      </div>
      <div>
        <h3 class="mb-4 text-xl font-bold">リンク</h3>
        <ul>
          {
            footerMenu.links.map((link) => (
              <li>
                <a href={link.href} class="hover:text-gray-300">
                  {link.label}
                </a>
              </li>
            ))
          }
        </ul>
      </div>
      {
        (social.twitter || social.facebook || social.instagram) && (
          <div>
            <h3 class="mb-4 text-xl font-bold">SNS</h3>
            <div class="flex space-x-4">
              {social.twitter && (
                <a href={social.twitter} class="hover:text-gray-300">
                  Twitter
                </a>
              )}
              {social.facebook && (
                <a href={social.facebook} class="hover:text-gray-300">
                  Facebook
                </a>
              )}
              {social.instagram && (
                <a href={social.instagram} class="hover:text-gray-300">
                  Instagram
                </a>
              )}
            </div>
          </div>
        )
      }
    </div>
    <div class="mt-8 text-center">
      <p>&copy; {copyrightYear} {config.site.organization.name} All rights reserved.</p>
    </div>
  </div>
</footer>
